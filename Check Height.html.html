<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8">
<title>Height Code Database</title>
<style>
  body { font-family:sans-serif; background:#f9fafb; padding:20px; }
  input, button { margin:5px; padding:6px; font-size:14px; }
  table { border-collapse:collapse; margin-top:15px; width:100%; max-width:600px; }
  th, td { border:1px solid #ccc; padding:6px; text-align:center; }
  th { background:#eee; }
</style>
</head>
<body>

<h2>üìè ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Code ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á (mm)</h2>

<label>Code: </label>
<input type="text" id="code" placeholder="‡πÄ‡∏ä‡πà‡∏ô A" maxlength="5">
<br>
<label>Height (mm): </label>
<input type="number" id="height" placeholder="‡πÄ‡∏ä‡πà‡∏ô 400">
<br>
<button onclick="saveData()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>

<h3>üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á</h3>
<input type="number" id="searchHeight" placeholder="‡πÉ‡∏™‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á mm">
<button onclick="searchHeight()">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
<p id="searchResult"></p>

<h3>üìö ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
<table id="dataTable">
  <thead>
    <tr><th>Code</th><th>Height (mm)</th></tr>
  </thead>
  <tbody></tbody>
</table>

<script>
// ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô
const records = [
  {code:"A",height:406},{code:"B",height:371},{code:"C",height:448},
  {code:"D",height:295},{code:"E",height:533},{code:"F",height:356},
  {code:"G",height:387},{code:"H",height:51},
  {code:"I",height:251},{code:"I",height:287},
  {code:"J",height:410},{code:"K",height:149},{code:"L",height:633},
  {code:"M",height:559},{code:"N",height:393},
  {code:"O",height:47},{code:"O",height:55},
  {code:"P",height:651},{code:"Q",height:191},{code:"R",height:540},
  {code:"S",height:356},{code:"T",height:600},{code:"U",height:106},
  {code:"V",height:332},{code:"W",height:179},{code:"X",height:712},
  {code:"Y",height:194},{code:"Z",height:122},
  {code:"1",height:246},{code:"1",height:247},
  {code:"2",height:227},{code:"3",height:416},{code:"4",height:195},
  {code:"5",height:260},{code:"6",height:259},{code:"7",height:56},
  {code:"8",height:321},{code:"9",height:135},{code:"10",height:635},
];

// ‚úÖ Code ‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏°‡∏µ 2 ‡∏Ñ‡πà‡∏≤
const multiAllowed = ["I", "O", "1"];

// ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á
function renderTable() {
  const tbody = document.querySelector("#dataTable tbody");
  tbody.innerHTML = records.map(r=>`<tr><td>${r.code}</td><td>${r.height}</td></tr>`).join("");
}
renderTable();

// ‚úÖ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
function saveData() {
  const code = document.getElementById('code').value.trim().toUpperCase();
  const height = Number(document.getElementById('height').value);
  if(!code || !height) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å Code ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á");

  const sameCode = records.filter(r => r.code === code);
  const duplicate = sameCode.find(r => r.height === height);

  // 1Ô∏è‚É£ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏Ñ‡∏¢‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö Code ‡πÑ‡∏´‡∏ô‡πÅ‡∏•‡πâ‡∏ß
  const heightUsed = records.filter(r => r.height === height).map(r => r.code);
  if(heightUsed.length > 0 && !heightUsed.includes(code)) {
    alert(`‡∏´‡πâ‡∏≤‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å! ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á ${height} mm ‡πÄ‡∏Ñ‡∏¢‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö Code: ${heightUsed.join(", ")}`);
    return;
  }

  // 2Ô∏è‚É£ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ã‡πâ‡∏≥‡πÄ‡∏î‡∏¥‡∏°‡∏Ç‡∏≠‡∏á Code
  if(duplicate) {
    alert("‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß");
    return;
  }

  // 3Ô∏è‚É£ ‡∏Å‡∏£‡∏ì‡∏µ Code ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÅ‡∏Ñ‡πà 2 ‡∏Ñ‡πà‡∏≤
  if(multiAllowed.includes(code)) {
    if(sameCode.length >= 2) {
      alert(`${code} ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 2 ‡∏Ñ‡πà‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô`);
      return;
    }
  } else {
    // Code ‡∏õ‡∏Å‡∏ï‡∏¥ (‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏î‡πâ‡πÅ‡∏Ñ‡πà‡∏Ñ‡πà‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)
    if(sameCode.length > 0) {
      alert(`${code} ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡∏´‡πâ‡∏≤‡∏°‡∏ã‡πâ‡∏≥‡∏ï‡πà‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á (‡πÄ‡∏Ñ‡∏¢‡∏°‡∏µ ${sameCode.map(r=>r.height).join(", ")} mm)`);
      return;
    }
  }

  // 4Ô∏è‚É£ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
  records.push({code, height});
  renderTable();
  alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢");
  document.getElementById('code').value = '';
  document.getElementById('height').value = '';
}

// ‚úÖ ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á
function searchHeight() {
  const h = Number(document.getElementById('searchHeight').value);
  if(!h) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤");
  const found = records.filter(r => r.height === h).map(r => r.code);
  document.getElementById('searchResult').innerText = found.length 
    ? `‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á ${h} mm ‡πÄ‡∏Ñ‡∏¢‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö Code: ${found.join(", ")}`
    : `‡πÑ‡∏°‡πà‡∏û‡∏ö Code ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á ${h} mm`;
}
</script>
</body>
</html>
